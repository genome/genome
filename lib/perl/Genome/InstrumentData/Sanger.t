#!/usr/bin/env genome-perl

BEGIN {
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
    $ENV{UR_DBI_NO_COMMIT} = 1;
}

use strict;
use warnings;

use above 'Genome';

use Test::More;

use_ok('Genome::InstrumentData::Sanger') or die;

my $sanger = Genome::InstrumentData::Sanger->create(
    run_name => '1jan00.000amaa',
);
ok($sanger, 'create sanger inst data');

my $disk_allocation = Genome::Disk::Allocation->__define__(
    owner_class_name => $sanger->class,
    owner_id => $sanger->id,
);
ok($disk_allocation, 'create disk allocation') or die;
is_deeply($sanger->disk_allocation, $disk_allocation, 'got disk allocation from snager');
ok($sanger->full_path, 'full path');
is($sanger->read_count, 96, 'read count');

done_testing();

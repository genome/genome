#!/usr/bin/env genome-perl

BEGIN { 
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
}

use strict;
use warnings;

use above "Genome";
use Test::More;

my $pkg = 'Genome::Site::TGI::CleTest';
use_ok($pkg);

my $config = Genome::Site::TGI::CleTest::get_config();
my $expected_config = {
    'blessed_process' => 'fadeb8545bce48adbc74deb1b5017d56',
    'blessed_builds' => [
    '3746e84c85054fbeb1ee9adde63fd362',
    'b1dbade3470b4060b0d8c2d7f3279f38',
    'f80f173dfc7c4e2a90ddc0f4ff4cbcd4',
    '26e65adaa8034dd99ef92b27f61ad862',
    '3dd43eb24d0c41dcaddc3747e60260c1',
    'd57481e2d6f44aaa9e06db71220cf16c',
    'f26257cefe604b01924ca4e6bf63392e'
    ],
    'tag_to_menu_item' => {
        'germline' => '3770b8510d5a459f9c0bb01fabf56337',
        'followup' => '9ab6e28f832a428393b87b171d444401',
        'discovery' => '9ab6e28f832a428393b87b171d444401'
    },
    'instrument_data' => [
    '2893814999',
    '2893815000',
    '2893815001',
    '2893815002',
    '2893815003',
    '2893815016',
    '2893815018',
    '2893815020',
    '2893815023',
    '2893815024',
    '2893815447',
    '2893815448',
    '2893815449',
    '2893815451',
    '2893815484',
    '2893815485',
    '2893815489',
    '2893815492'
    ],
    'region_of_interest_set_name' => 'SeqCap EZ Human Exome v3.0 + AML RMG pooled probes + WO2830729 pooled probes + WO2840081 pooled probes',
    'subject_mapping_string' => "H_KA-174556-1309237\tH_KA-174556-1309246\t\t\t\tfollowup\nH_KA-174556-1309245\tH_KA-174556-1309246\t\t\t\tdiscovery\nH_KA-174556-1309246\t\t\t\t\tgermline\n",
    annotation_builds => ['d00a39c84382427fa0efdec3229e8f5f'],
    imported_variation_builds => ['7fd9ca9a6bf74a098c23b32c1b00fbc0',
        '126747180',
        '847b3cacad1249b8b7e46f89e02d96da',
        '1040bf09070c4176a5256fa8a075378f',
    ],
    reference_sequence_builds => [
        '106942997',
        '108563338',
        '102671028'
    ],
    feature_lists => [
        'a2733b8111c24110805025137c878e13',
        '0e4973c600244c3f804d54bee6f81145',
        'ef6583623a614c8ebaea471a4c9748fc',
        '7f05e8fad6b6465a9f5bd6155dc88135',
        '4e77d10f29f44a0792ebc8d6ea0c4a2b'
    ],
    processing_profiles => [
        '6cb9031627e841b99967202c5155f2a1',
        '6cab54acdf704c7c9e8adc7aa8facff4',
    ],
    misc_software_results => [
        '265673ea574246b49d211151107dfee9',
        '44d72413f6af43e99386f7f6c92ed59a'
    ],
};
is_deeply($config, $expected_config, "Config read in correctly");

done_testing;

